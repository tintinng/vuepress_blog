(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{414:function(s,n,t){"use strict";t.r(n);var a=t(25),e=Object(a.a)({},(function(){var s=this,n=s.$createElement,t=s._self._c||n;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("p",[s._v("记录项目中使用Nginx在本地windows和阿里云Linux环境下部署")]),s._v(" "),t("h2",{attrs:{id:"nginx-简介"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nginx-简介"}},[s._v("#")]),s._v(" Nginx-简介")]),s._v(" "),t("ul",[t("li",[s._v("基本概念")]),s._v(" "),t("li",[s._v("高性能的 HTTP和反向代理的web服务器")]),s._v(" "),t("li",[s._v("反向代理\n"),t("ul",[t("li",[s._v("正向代理：在客户端配置代理服务器。")]),s._v(" "),t("li",[s._v("反向代理：反向代理服务器和目标服务器视为同一个，客户端只需知道反向代理服务器地址和端口。隐藏了目标服务器。")])])])]),s._v(" "),t("h2",{attrs:{id:"nginx-在windows环境下部署"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nginx-在windows环境下部署"}},[s._v("#")]),s._v(" Nginx-在windows环境下部署**")]),s._v(" "),t("h3",{attrs:{id:"命令环境"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#命令环境"}},[s._v("#")]),s._v(" 命令环境")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("start nginx\t启动\nnginx -s stop\t停止（不保存信息）\nnginx -s quit\t停止（保存信息）\nnginx -s reload\t重启\nnginx -v\t查看版本\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("ul",[t("li",[s._v("查看是否成功："),t("code",[s._v("localhost：80")])]),s._v(" "),t("li",[s._v("build完以后，将dist扔到html里面")]),s._v(" "),t("li",[s._v("配置nginx")])]),s._v(" "),t("div",{staticClass:"language-json line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[s._v("server "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    listen "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v(";\n    server_name localhost;\n    location / "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    \troot html/dist; "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 默认主目录")]),s._v("\n    \tindex index.html index.htm; "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 入口文件")]),s._v("\n    \tproxy_pass http"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//139.196.234.125:8080/; // 反向代理")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\t# 正向代理\n\tlocation /api "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        proxy_pass http"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//139.196.234.125:8080/; ")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br")])]),t("h2",{attrs:{id:"在linux环境下部署"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#在linux环境下部署"}},[s._v("#")]),s._v(" 在Linux环境下部署")]),s._v(" "),t("h3",{attrs:{id:"nginx安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nginx安装"}},[s._v("#")]),s._v(" nginx安装")]),s._v(" "),t("ul",[t("li",[s._v("下载nginx及相关组件\n"),t("ul",[t("li",[s._v("选择稳定版本")]),s._v(" "),t("li",[s._v("有些源无法访问就换")])])]),s._v(" "),t("li",[s._v("安装C++编译环境")]),s._v(" "),t("li",[s._v("安装nginx及相关组件\n"),t("ul",[t("li",[s._v("openssl")]),s._v(" "),t("li",[s._v("pcre")]),s._v(" "),t("li",[s._v("zlib")]),s._v(" "),t("li",[s._v("nginx 有些版本编译出错就更换版本")])])])]),s._v(" "),t("h3",{attrs:{id:"dist上传到远程服务器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#dist上传到远程服务器"}},[s._v("#")]),s._v(" dist上传到远程服务器")]),s._v(" "),t("ul",[t("li",[s._v("在本地 windows 上将dist文件夹打包（启用bash命令行）：\n"),t("ul",[t("li",[s._v("``tar -cvf xxxx.tar *`")]),s._v(" "),t("li",[s._v("在 html/文件夹中创建一个项目文件夹（nginx配置时也对应加上该路径） ``mkdir XXXX`")])])]),s._v(" "),t("li",[s._v("远程 linux 系统上安装lrzsz （lrzsz是一款在linux里可代替ftp上传和下载的程序）\n"),t("ul",[t("li",[s._v("``yum -y install lrzsz`")])])]),s._v(" "),t("li",[s._v("远程 linux 系统上对应的文件夹下使用 ``rz` 命令上传压缩文件")]),s._v(" "),t("li",[s._v("在 linux 上解压\n"),t("ul",[t("li",[s._v("``tar -xvf xxxx.tar`")])])])]),s._v(" "),t("h3",{attrs:{id:"修改配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改配置"}},[s._v("#")]),s._v(" 修改配置")]),s._v(" "),t("ul",[t("li",[s._v("vim使用\n"),t("ul",[t("li",[s._v("insert：进入修改状态")]),s._v(" "),t("li",[s._v("ESC：退出状态")]),s._v(" "),t("li",[s._v(":wq：写入、退出")])])]),s._v(" "),t("li",[s._v("配置 nginx.conf")])]),s._v(" "),t("div",{staticClass:"language-json line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[s._v("server "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  \t\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 在远程服务器需要配置安全端口")]),s._v("\n        listen       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v(";\n        server_name  localhost;\n\n\t\t\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 在nginx下的html文件夹中放 testMaster 静态文件")]),s._v("\n        location /testMaster"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            root   html;\n            index  index.html index.htm;\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        error_page   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("500")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("502")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("503")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("504")]),s._v("  /50x.html;\n        location = /50x.html "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            root   html; "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// root可以用来配置静态文件的路径")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("h3",{attrs:{id:"linux下nginx相关命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#linux下nginx相关命令"}},[s._v("#")]),s._v(" Linux下nginx相关命令")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("whereis")]),s._v(" nginx // 查看nginx安装目录\n\n// nginx/sbin 目录下进行nginx常用命令操作\n./nginx -v \t//查看当前nginx版本号\n./nginx -s stop \t//关闭\n./nginx \t//开启\n./nginx -s reload \t//重新加载配置文件（修改配置文件后进行）\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])])])}),[],!1,null,null,null);n.default=e.exports}}]);